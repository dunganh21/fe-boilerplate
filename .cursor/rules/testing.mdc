---
description:
globs:
alwaysApply: true
---

# ‚úÖ UI Testing Rule (Visual + MCP + Playwright Required)

## üéØ Purpose

Ensure UI quality through visual checks, MCP analysis, and Playwright testing ‚Äî to catch regressions early and validate component behavior accurately.

---

## üß™ Testing Requirements

> ‚úÖ **MANDATORY - NO EXCEPTIONS:**  
> After completing **every feature or component**, you **MUST** run a full test pass using:
>
> - ‚úÖ **Lint validation** - Run `npm run lint` to ensure code quality standards
> - ‚úÖ **shadcn MCP Server check** - Verify component exists and get proper implementation
> - ‚úÖ **Visual inspection** in the browser
> - ‚úÖ **Playwright MCP Server testing** - Required visual validation
> - ‚úÖ **Component behavior testing** (manual or automated)

---

## üîç Testing Flow

### 1. **FIRST: Check shadcn MCP Server**

- **ALWAYS** use shadcn MCP server to check if component exists
- Get the proper shadcn/ui implementation and adapt to current project
- Verify component props, variants, and usage patterns
- Use existing components instead of creating custom ones

---

### 2. **Visual Inspection in Browser**

- Navigate to the component test page
- Resize viewport to test responsiveness:
  - Mobile (320px-768px)
  - Tablet (768px-1024px)
  - Desktop (1024px+)
- Interact with the component:
  - Hover, focus, click states
  - State transitions (loading, disabled, error)
  - Form validation and feedback

---

### 3. **MANDATORY: Playwright MCP Server Testing**

- **REQUIRED** after every feature/component completion
- Use Playwright MCP server for visual validation
- Take screenshots and compare against expected behavior
- Test interaction patterns and accessibility
- Validate responsive behavior across viewports

---

### 4. **Cross-check Against Design (Figma)**

- Compare spacing, color, typography, layout
- Use Figma plugin or DevTools to measure pixel-perfect alignment
- Validate consistency across similar components
- Ensure design tokens are properly applied

---

## ‚úÖ Mandatory Validation Checklist

- [ ] **Build validation passed** - `npm run build` completes without errors
- [ ] **Lint validation passed** - `npm run lint` shows no errors or warnings
- [ ] **shadcn MCP Server check completed** - Verified existing component or got proper implementation
- [ ] **Component leverages existing shadcn/ui** instead of custom implementation
- [ ] **Playwright MCP Server testing passed** - Visual validation completed
- [ ] Typography matches design tokens
- [ ] Spacing and layout consistent with Figma
- [ ] Responsive across all viewports (mobile, tablet, desktop)
- [ ] No visual regressions or broken UI
- [ ] Components behave correctly (clicks, focus, navigation, states)
- [ ] Accessibility standards met (keyboard navigation, ARIA labels)

---

## üí° Tips

- Use DevTools to inspect `computed styles` and box model
- Simulate `:hover`, `:focus-visible`, `:active` in browser
- Prefer fixing styles directly in component, not through page overrides
- If tokens feel off, fix the **token source**, don‚Äôt patch with raw values

---

## üìå Notes

- **No component is considered ‚Äúdone‚Äù until it passes visual check, MCP scan, and Playwright test**
- Visual QA + MCP feedback is suitable during iteration
- Playwright test is **required every 2 components/features** to prevent regressions and ensure UI
